# Nomogram App 使用指南

## 📱 在手机上安装

### iPhone/iPad (iOS/iPadOS)
1. 使用Safari浏览器打开应用
2. 点击底部的"分享"按钮（方框带向上箭头）
3. 向下滚动，选择"添加到主屏幕"
4. 点击右上角"添加"
5. 应用图标将出现在主屏幕上

### Android手机
1. 使用Chrome浏览器打开应用
2. 点击右上角菜单（三个点）
3. 选择"添加到主屏幕"或"安装应用"
4. 点击"添加"或"安装"
5. 应用图标将出现在主屏幕上

## 🩺 使用应用

### 1. 输入患者数据
- **年龄**: 输入患者年龄（岁）
- **性别**: 选择男性或女性
- **胆红素**: 输入血清胆红素水平（mg/dL）
- **铜**: 输入血清铜水平（μg/dL）
- **疾病分期**: 选择1-4期
- **治疗方案**: 选择对照组、治疗1或治疗2

### 2. 计算生存率
- 填写完所有字段后，点击"计算生存率"按钮
- 应用会立即显示预测结果：
  - 2年生存率
  - 5年生存率
  - 8年生存率
- 每次计算会自动保存到历史记录

### 3. 导出数据到CSV

#### 导出当前记录
1. 计算完成后，向下滚动到结果区域
2. 点击"💾 导出当前记录"按钮
3. CSV文件会自动下载到手机的"下载"文件夹
4. 文件名格式：`nomogram_记录_20251030_143025.csv`

#### 导出所有历史记录
1. 点击"📥 导出所有历史记录"按钮
2. 所有保存的记录会导出到一个CSV文件
3. 文件名格式：`nomogram_历史记录_20251030_143025.csv`

#### 查看CSV文件
- **iPhone**: 在"文件"应用的"下载"文件夹中查看
- **Android**: 在"文件管理器"的"Download"文件夹中查看
- 可以用Excel、Numbers或其他表格软件打开

### 4. 管理历史记录
- **查看记录数**: 结果区域显示"已保存 X 条记录"
- **清空历史**: 点击"🗑️ 清空历史"按钮删除所有记录
- **注意**: 清空操作不可恢复，请先导出重要数据

## 📊 CSV文件内容

导出的CSV文件包含以下列：
1. 记录时间
2. 年龄(岁)
3. 性别
4. 胆红素(mg/dL)
5. 铜(μg/dL)
6. 疾病分期
7. 治疗方案
8. 2年生存率(%)
9. 5年生存率(%)
10. 8年生存率(%)
11. 风险评分
12. 线性预测值

## 🔒 数据安全说明

### 完全离线运行
- ✅ 应用安装后可以完全离线使用
- ✅ 不需要网络连接
- ✅ 所有计算在手机本地完成

### 数据存储
- ✅ 历史记录存储在手机浏览器的本地存储（localStorage）
- ✅ 数据只保存在您的手机上
- ✅ 不会上传到任何服务器
- ✅ 不会被其他应用访问

### 数据导出
- ✅ CSV文件保存在手机本地
- ✅ 您完全控制这些文件
- ✅ 可以随时删除或分享

## 💡 使用技巧

### 批量录入
1. 连续录入多个患者数据
2. 每次计算自动保存
3. 一次性导出所有记录到CSV
4. 在电脑上用Excel进一步分析

### 数据备份
1. 定期点击"导出所有历史记录"
2. 将CSV文件保存到云盘（iCloud、Google Drive等）
3. 必要时可以清空手机上的历史记录释放空间

### 多设备使用
- 可以在多个设备上安装此应用
- 每个设备的历史记录独立保存
- 通过CSV导出文件可以在设备间共享数据

## ❓ 常见问题

### Q: 应用需要网络连接吗？
A: 不需要。安装后可以完全离线使用。

### Q: 数据会丢失吗？
A: 只要不清除浏览器数据或卸载应用，数据会一直保存。建议定期导出备份。

### Q: CSV文件在哪里？
A: iPhone在"文件"应用的"下载"文件夹，Android在"Download"文件夹。

### Q: 可以删除某条记录吗？
A: 目前只能全部清空。如需删除特定记录，请导出CSV后手动编辑。

### Q: Excel打开CSV乱码怎么办？
A: 应用已添加BOM支持，正常应该不会乱码。如果遇到问题，可以用"导入数据"功能指定UTF-8编码。

### Q: 可以在电脑上使用吗？
A: 可以。在电脑浏览器中打开应用，功能完全相同。

## 📞 技术支持

如果遇到问题：
1. 检查浏览器版本是否最新
2. 尝试清除浏览器缓存后重新安装
3. 导出重要数据后尝试清空历史记录
4. 联系技术支持团队

---

**版本**: v2.1.0  
**更新日期**: 2025-10-30  
**基于**: FigureYa30nomogram_update

