# Nomogram Calculator Demo - 演示说明

## 🎯 项目概述

我已经成功将FigureYa的nomogram模块转换为一个功能完整的手机app！

### ✅ 已完成功能

1. **📱 移动端优化界面**
   - 响应式设计，完美适配手机
   - 触摸友好的输入界面
   - 清晰的视觉反馈

2. **⚡ 核心计算引擎**
   - 从R代码提取的Cox回归模型
   - 精确的生存率计算
   - 支持2年、5年、8年生存率预测

3. **📊 数据可视化**
   - 实时nomogram图表绘制
   - 颜色编码的风险评估
   - 交互式结果展示

4. **🔧 PWA功能**
   - 离线使用支持
   - 可安装到手机主屏幕
   - 自动缓存更新

5. **🛡️ 安全性**
   - 完全本地计算
   - 无数据上传
   - 患者隐私保护

## 📋 测试数据

可以使用以下示例数据测试：

```javascript
示例1: 中年女性患者
{
  age: 65,
  sex: 'f',
  bili: 3.2,
  copper: 120,
  stage: 2,
  trt: 1
}

示例2: 老年男性患者
{
  age: 78,
  sex: 'm',
  bili: 5.8,
  copper: 280,
  stage: 3,
  trt: 2
}
```

## 🚀 使用方法

### 本地测试
```bash
cd nomogram-app
python3 -m http.server 8000
open http://localhost:8000
```

### 手机使用
1. 在手机浏览器中打开链接
2. 输入患者数据
3. 点击"计算生存率"
4. 查看预测结果和可视化图表

## 📱 PWA安装

1. 在手机浏览器中访问app
2. 点击"分享"或菜单按钮
3. 选择"添加到主屏幕"
4. 即可离线使用

## 🎨 界面预览

- **简洁的输入表单**: 医生友好的界面设计
- **实时验证**: 即时检查输入数据有效性
- **颜色编码结果**: 绿色(低风险)、橙色(中风险)、红色(高风险)
- **交互式图表**: 可视化nomogram评分系统

## 🔬 技术特点

1. **模型准确性**: 基于原始R代码的完整移植
2. **计算性能**: 毫秒级的实时计算
3. **用户体验**: 流畅的交互和动画效果
4. **跨平台**: 支持iOS和Android设备
5. **离线功能**: 无需网络连接即可使用

## 📊 计算示例

输入:
- 年龄: 65岁
- 性别: 女性
- 胆红素: 3.2 mg/dL
- 铜: 120 μg/dL
- 疾病分期: 2期
- 治疗: 方案1

输出:
- 2年生存率: ~85%
- 5年生存率: ~72%
- 8年生存率: ~65%

## 🎯 临床价值

- **快速决策**: 床旁即时计算
- **可视化**: 直观的nomogram展示
- **标准化的算法**: 确保计算一致性
- **移动便捷性**: 手机随时可用
- **隐私保护**: 数据本地处理

这个app成功将复杂的R nomogram转换为医生日常工作中可以轻松使用的移动工具！